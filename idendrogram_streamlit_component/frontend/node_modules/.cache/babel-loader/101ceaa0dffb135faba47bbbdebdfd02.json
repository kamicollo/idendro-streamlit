{"ast":null,"code":"import { Streamlit } from \"streamlit-component-lib\";\nimport * as d3 from 'd3';\nimport './idendro.css';\nvar Orientation;\n\n(function (Orientation) {\n  Orientation[\"top\"] = \"top\";\n  Orientation[\"bottom\"] = \"bottom\";\n  Orientation[\"right\"] = \"right\";\n  Orientation[\"left\"] = \"left\";\n})(Orientation || (Orientation = {}));\n\nfunction create_container(dimensions) {\n  if (d3.select(\"#idendro\")) {\n    d3.select(\"#idendro\").remove();\n  } // append svg element to the body of the page\n  // set dimensions and position of the svg element\n\n\n  let svg = d3.select(\"body\").append(\"svg\").attr(\"id\", \"idendro\").attr(\"width\", dimensions.width).attr(\"height\", dimensions.height);\n  let plot = svg.append(\"g\").attr(\"transform\", \"translate(\" + dimensions.margin.left + \",\" + dimensions.margin.top + \")\").attr(\"id\", \"idendro-container\");\n  return plot;\n}\n\nfunction create_axis(plot, dimensions, dendrogram, scale_type) {\n  let label_limits = dendrogram.x_domain;\n  let value_limits = dendrogram.y_domain;\n  let label_range,\n      value_range = [0, 0];\n  let label_axis_func, value_axis_func;\n  let label_axis_transform = [0, 0];\n  let value_axis_transform = [0, 0]; //handle orientation impact on scale ranges & positioning\n\n  if (dimensions.orientation === Orientation.top || dimensions.orientation === Orientation.bottom) {\n    label_range = [0, dimensions.innerWidth];\n    value_axis_func = d3.axisLeft;\n    value_axis_transform = [0, 0];\n\n    if (dimensions.orientation === Orientation.top) {\n      value_range = [dimensions.innerHeight, 0];\n      label_axis_func = d3.axisBottom;\n      label_axis_transform = [0, dimensions.innerHeight];\n    } else {\n      value_range = [0, dimensions.innerHeight];\n      label_axis_func = d3.axisTop;\n    }\n  } else {\n    value_axis_func = d3.axisBottom;\n    label_range = [dimensions.innerHeight, 0];\n    value_axis_transform = [0, dimensions.innerHeight];\n\n    if (dimensions.orientation === Orientation.left) {\n      value_range = [dimensions.innerWidth, 0];\n      label_axis_func = d3.axisRight;\n      label_axis_transform = [dimensions.innerWidth, 0];\n    } else {\n      value_range = [0, dimensions.innerWidth];\n      label_axis_func = d3.axisLeft;\n    }\n  } //get label-axis positions and labels\n\n\n  let label_axis_pos = dendrogram.axis_labels.map(x => x.x);\n  let label_axis_label = dendrogram.axis_labels.map(x => x.label); //create label-axis\n\n  let labelScale;\n  labelScale = d3.scaleLinear().domain(label_limits).range(label_range);\n  let labelAxisGenerator = label_axis_func(labelScale).tickValues(label_axis_pos).tickFormat((d, i) => label_axis_label[i]).tickSize(3);\n  let label_axis = plot.append(\"g\").attr(\"id\", \"label-axis\").attr(\"transform\", \"translate(\" + label_axis_transform[0] + \",\" + label_axis_transform[1] + \")\").call(labelAxisGenerator); //handle label position angles\n\n  let labelAngle = dendrogram.axis_labels[0].labelAngle;\n  let anchor = 'start';\n  let sign = 1;\n\n  if (labelAngle < 0) {\n    anchor = 'end';\n    sign = -1;\n  }\n\n  label_axis.selectAll(\"text\").attr(\"transform\", \"rotate(\" + labelAngle + \")\").attr(\"y\", Math.abs(sign * 90 - labelAngle) / 7).attr(\"x\", labelAngle / 5).attr(\"dy\", \".5em\").style(\"text-anchor\", anchor); //create value-axis\n\n  let valueScale;\n\n  if (scale_type === 'symlog') {\n    valueScale = d3.scaleSymlog().constant(1);\n  } else if (scale_type === 'log') {\n    valueScale = d3.scaleLog();\n  } else {\n    valueScale = d3.scaleLinear();\n  }\n\n  valueScale.domain(value_limits);\n  valueScale.range(value_range);\n  let valueAxisGenerator = value_axis_func(valueScale);\n  plot.append(\"g\").attr(\"id\", \"value-axis\").attr(\"transform\", \"translate(\" + value_axis_transform[0] + \",\" + value_axis_transform[1] + \")\").call(valueAxisGenerator);\n  return [labelScale, valueScale];\n}\n\nfunction draw_links(link_container, links, xScale, yScale) {\n  link_container.selectAll(\".link\").data(links).enter().append(\"path\").attr(\"fill\", \"none\").attr(\"stroke\", d => d.fillcolor).attr(\"stroke-width\", d => d.strokewidth).attr(\"stroke-opacity\", d => d.strokeopacity).attr(\"stroke-dasharray\", d => d.strokedash).attr(\"class\", \"link\").attr(\"d\", function (d) {\n    return d3.line().x(d => xScale(d.x) || 0).y(d => yScale(d.y) || 0)(d.data);\n  });\n}\n\nfunction draw_nodes(node_container, nodes, xScale, yScale) {\n  let elem = node_container.selectAll(\".node\").data(nodes).enter().append(\"g\").attr(\"transform\", function (d) {\n    return \"translate(\" + xScale(d.x) + \",\" + yScale(d.y) + \")\";\n  }).attr(\"class\", \"node\");\n  let tooltip = d3.select(\"body\").append(\"div\").style(\"opacity\", 0).attr(\"class\", \"idendro-tooltip\").on(\"mouseover\", function (e, d) {\n    if (e.target) {\n      d3.select(this).style(\"opacity\", 1);\n    }\n  }).on(\"mouseleave\", function (e, d) {\n    if (e.target) {\n      d3.select(this).style(\"opacity\", 0);\n      d3.select(this).style(\"display\", \"none\");\n    }\n  });\n\n  let mouseover = function (e, d) {\n    tooltip.style(\"opacity\", 1);\n    tooltip.style(\"display\", \"initial\");\n    tooltip.style(\"left\", e.x + \"px\").style(\"top\", e.y + \"px\");\n\n    if (typeof d.hovertext === 'string') {\n      tooltip.html(d.hovertext);\n    } else {\n      let hovertext = \"\";\n\n      for (const [key, value] of Object.entries(d.hovertext)) {\n        hovertext += \"<strong>\" + key + \"</strong>: \" + value + \"<br>\";\n      }\n\n      tooltip.html(hovertext);\n    }\n\n    if (this.nodeName === 'circle') {\n      d3.select(this).attr(\"r\", d.radius * 1.5);\n    }\n  };\n\n  let mousemove = function (e, d) {\n    tooltip.style(\"left\", e.x + \"px\").style(\"top\", e.y + \"px\");\n\n    if (this.nodeName === 'circle') {\n      d3.select(this).attr(\"r\", d.radius * 1.5);\n    }\n  };\n\n  let mouseleave = function (e, d) {\n    tooltip.style(\"opacity\", 0);\n\n    if (this.nodeName === 'circle') {\n      d3.select(this).attr(\"r\", d.radius);\n    }\n  };\n\n  let click = function (e, d) {\n    Streamlit.setComponentValue(d);\n    tooltip.style(\"opacity\", 0);\n    tooltip.style(\"display\", \"none\");\n  };\n\n  elem.append(\"circle\").attr(\"fill\", d => d.fillcolor).attr(\"stroke\", d => d.edgecolor).attr('r', d => d.radius).attr(\"opacity\", d => d.opacity).on(\"mouseover\", mouseover).on(\"mouseleave\", mouseleave).on(\"mousemove\", mousemove).on(\"click\", click);\n  elem.append(\"text\").text(d => d.label).attr(\"fill\", d => d.labelcolor).attr(\"font-size\", d => d.labelsize).attr(\"opacity\", d => d.opacity).on(\"mouseover\", mouseover).on(\"mouseleave\", mouseleave).on(\"mousemove\", mousemove).on(\"click\", click);\n}\n/**\n * The component's render function. This will be called immediately after\n * the component is initially loaded, and then again every time the\n * component gets new data from Python.\n */\n\n\nfunction onRender(event) {\n  // Get the RenderData from the event\n  const data = event.detail; //initialize variables as appropriate\n\n  let dendrogram = data.args['dendrogram'];\n  let scaleType = data.args['scale'];\n  let show_nodes = data.args['show_nodes'];\n  let margin = data.args['margins'];\n  let label_margin_size = 200;\n  let dimensions = {\n    height: data.args['height'],\n    width: data.args['width'],\n    margin: margin,\n    innerHeight: 0,\n    innerWidth: 0,\n    orientation: data.args['orientation']\n  };\n  let margin_map = {\n    'top': Orientation.bottom,\n    'bottom': Orientation.top,\n    'left': Orientation.right,\n    'right': Orientation.left\n  };\n  let label_margin = margin_map[dimensions.orientation];\n  dimensions.margin[label_margin] = label_margin_size;\n  dimensions.innerHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom;\n  dimensions.innerWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right; //create the plot container and the axes\n\n  let plot = create_container(dimensions);\n  let scales = create_axis(plot, dimensions, dendrogram, scaleType);\n  let xScale;\n  let yScale; //depending on the orientation, remap X and Y values\n\n  if (dimensions.orientation === Orientation.top || dimensions.orientation === Orientation.bottom) {\n    xScale = scales[0];\n    yScale = scales[1];\n    dendrogram.links.forEach(link => {\n      link.data = link.x.map(function (x, i) {\n        return {\n          'x': x,\n          'y': link.y[i]\n        };\n      });\n    });\n  } else {\n    yScale = scales[0];\n    xScale = scales[1];\n    dendrogram.links.forEach(link => {\n      link.data = link.x.map(function (x, i) {\n        return {\n          'y': x,\n          'x': link.y[i]\n        };\n      });\n    });\n    dendrogram.nodes.forEach(node => {\n      let x = node.x;\n      node.x = node.y;\n      node.y = x;\n    });\n  } //draw links\n\n\n  let link_container = plot.append('g').attr(\"class\", \"link-container\");\n  draw_links(link_container, dendrogram.links, xScale, yScale); //draw nodes\n\n  if (show_nodes) {\n    let node_container = plot.append('g').attr(\"class\", \"node-container\");\n    draw_nodes(node_container, dendrogram.nodes, xScale, yScale);\n  }\n\n  Streamlit.setFrameHeight();\n} // Attach our `onRender` handler to Streamlit's render event.\n\n\nStreamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender); // Tell Streamlit we're ready to start receiving data. We won't get our\n// first RENDER_EVENT until we call this function.\n\nStreamlit.setComponentReady(); // Finally, tell Streamlit to update our initial height. We omit the\n// `height` parameter here to have it default to our scrollHeight.\n\nStreamlit.setFrameHeight();","map":{"version":3,"names":["Streamlit","d3","Orientation","create_container","dimensions","select","remove","svg","append","attr","width","height","plot","margin","left","top","create_axis","dendrogram","scale_type","label_limits","x_domain","value_limits","y_domain","label_range","value_range","label_axis_func","value_axis_func","label_axis_transform","value_axis_transform","orientation","bottom","innerWidth","axisLeft","innerHeight","axisBottom","axisTop","axisRight","label_axis_pos","axis_labels","map","x","label_axis_label","label","labelScale","scaleLinear","domain","range","labelAxisGenerator","tickValues","tickFormat","d","i","tickSize","label_axis","call","labelAngle","anchor","sign","selectAll","Math","abs","style","valueScale","scaleSymlog","constant","scaleLog","valueAxisGenerator","draw_links","link_container","links","xScale","yScale","data","enter","fillcolor","strokewidth","strokeopacity","strokedash","line","y","draw_nodes","node_container","nodes","elem","tooltip","on","e","target","mouseover","hovertext","html","key","value","Object","entries","nodeName","radius","mousemove","mouseleave","click","setComponentValue","edgecolor","opacity","text","labelcolor","labelsize","onRender","event","detail","args","scaleType","show_nodes","label_margin_size","margin_map","right","label_margin","scales","forEach","link","node","setFrameHeight","events","addEventListener","RENDER_EVENT","setComponentReady"],"sources":["/home/aurimas/coding/idendro-streamlit/idendrogram_streamlit_component/frontend/src/index.tsx"],"sourcesContent":["import { Streamlit, RenderData } from \"streamlit-component-lib\"\nimport * as d3 from 'd3'\nimport './idendro.css'\n\ninterface AxisLabel {\n    x: number\n    label: string    \n    labelAngle: number\n}\n\ninterface Coord {\n    x: number\n    y: number\n}\n\ninterface ClusterLink {\n    x: number[]\n    y: number[]\n    fillcolor: string\n    id: number\n    children_id: number[]\n    cluster_id: number\n    strokewidth: number\n    strokedash: number[]\n    strokeopacity: number    \n    data: Coord[]\n}\n\ninterface ClusterNode {\n    x: number\n    y: number\n    type: string\n    id: number\n    cluster_id: number | null\n    edgecolor: string\n    label: string\n    hovertext: Object\n    fillcolor: string\n    radius: number\n    opacity: number\n    labelsize: number\n    labelcolor: string\n}\n\ninterface Dendrogram {\n    axis_labels: AxisLabel[]\n    links: ClusterLink[]\n    nodes: ClusterNode[]\n    x_domain: [number, number]\n    y_domain: [number, number]\n}\n\ninterface Dimensions {\n    margin: Margin\n    height: number\n    width: number\n    innerHeight: number\n    innerWidth: number,\n    orientation: Orientation\n}\n\nenum Orientation {\n    top = \"top\",\n    bottom = \"bottom\",\n    right = \"right\",\n    left = \"left\"\n}\n\ninterface Margin {\n    top: number\n    right: number\n    bottom: number\n    left: number\n}\n\ninterface plot extends d3.Selection<SVGGElement, unknown, HTMLElement, any> { }\n\ninterface scaleLinear extends d3.ScaleLinear<number, number, never> { }\n\ninterface scaleSymLog extends d3.ScaleSymLog<number, number, number | undefined> { }\n\ninterface scaleLog extends d3.ScaleLogarithmic<number, number, never> {}\n\nfunction create_container(dimensions: Dimensions): plot {\n\n\n    if (d3.select(\"#idendro\")) {\n        d3.select(\"#idendro\").remove()\n    }\n    // append svg element to the body of the page\n    // set dimensions and position of the svg element\n    let svg = d3\n        .select(\"body\")\n        .append(\"svg\")\n        .attr(\"id\", \"idendro\")\n        .attr(\"width\", dimensions.width)\n        .attr(\"height\", dimensions.height)\n\n    let plot = svg.append(\"g\")\n        .attr(\"transform\", \"translate(\" + dimensions.margin.left + \",\" + dimensions.margin.top + \")\")\n        .attr(\"id\", \"idendro-container\");\n\n    return plot\n}\n\nfunction create_axis(plot: plot, dimensions: Dimensions, dendrogram: Dendrogram, scale_type: string) {\n\n    let label_limits = dendrogram.x_domain\n    let value_limits = dendrogram.y_domain\n\n    let label_range, value_range = [0, 0]\n    let label_axis_func, value_axis_func: CallableFunction\n    let label_axis_transform = [0, 0]\n    let value_axis_transform = [0, 0]\n\n    //handle orientation impact on scale ranges & positioning\n    if (dimensions.orientation === Orientation.top || dimensions.orientation === Orientation.bottom) {\n        label_range = [0, dimensions.innerWidth]\n        value_axis_func = d3.axisLeft\n        value_axis_transform = [0, 0]\n        if (dimensions.orientation === Orientation.top) {\n            value_range = [dimensions.innerHeight, 0]\n            label_axis_func = d3.axisBottom\n            label_axis_transform = [0, dimensions.innerHeight]\n        } else {\n            value_range = [0, dimensions.innerHeight]\n            label_axis_func = d3.axisTop\n        }\n    } else {\n        value_axis_func = d3.axisBottom\n        label_range = [dimensions.innerHeight, 0]\n        value_axis_transform = [0, dimensions.innerHeight]\n        if (dimensions.orientation === Orientation.left) {\n            value_range = [dimensions.innerWidth, 0]\n            label_axis_func = d3.axisRight\n            label_axis_transform = [dimensions.innerWidth, 0]\n        } else {\n            value_range = [0, dimensions.innerWidth]\n            label_axis_func = d3.axisLeft\n        }\n    }\n\n    //get label-axis positions and labels\n    let label_axis_pos = dendrogram.axis_labels.map((x) => x.x)\n    let label_axis_label = dendrogram.axis_labels.map((x) => x.label)\n\n    //create label-axis\n    let labelScale: scaleLinear | scaleLog | scaleSymLog\n    labelScale = d3.scaleLinear()\n        .domain(label_limits).range(label_range)\n\n    let labelAxisGenerator = label_axis_func(labelScale)\n        .tickValues(label_axis_pos)\n        .tickFormat((d, i) => label_axis_label[i])\n        .tickSize(3)      \n        \n    let label_axis  = plot.append(\"g\")\n    .attr(\"id\", \"label-axis\")\n    .attr(\"transform\", \"translate(\" + label_axis_transform[0] + \",\" + label_axis_transform[1] + \")\")        \n    .call(labelAxisGenerator)\n\n    //handle label position angles\n    let labelAngle = dendrogram.axis_labels[0].labelAngle\n    let anchor = 'start'\n    let sign = 1\n    if (labelAngle < 0) {\n        anchor = 'end'\n        sign = -1\n    }\n    \n    label_axis.selectAll(\"text\")\n        .attr(\"transform\", \"rotate(\" + labelAngle + \")\")\n        .attr(\"y\", Math.abs(sign * 90 - labelAngle) / 7)\n        .attr(\"x\", labelAngle / 5)\n        .attr(\"dy\", \".5em\")\n        .style(\"text-anchor\", anchor);\n\n    //create value-axis\n    let valueScale: scaleLinear | scaleLog | scaleSymLog\n\n    if (scale_type === 'symlog') {\n        valueScale = d3.scaleSymlog().constant(1)\n    } else if (scale_type === 'log') {\n        valueScale = d3.scaleLog()\n    } else {\n        valueScale = d3.scaleLinear()\n    }\n\n    valueScale.domain(value_limits)\n    valueScale.range(value_range)\n\n\n    let valueAxisGenerator = value_axis_func(valueScale)\n\n    plot.append(\"g\")\n        .attr(\"id\", \"value-axis\")\n        .attr(\"transform\", \"translate(\" + value_axis_transform[0] + \",\" + value_axis_transform[1] + \")\")\n        .call(valueAxisGenerator)\n\n\n    return [labelScale, valueScale]\n}\n\nfunction draw_links(link_container: plot, links: ClusterLink[], xScale: scaleLinear | scaleLog | scaleSymLog, yScale: scaleLinear | scaleLog | scaleSymLog) {\n\n    link_container.selectAll(\".link\")\n        .data(links)\n        .enter()\n        .append(\"path\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", (d) => d.fillcolor) \n        .attr(\"stroke-width\", (d) => d.strokewidth)  \n        .attr(\"stroke-opacity\", (d) => d.strokeopacity)\n        .attr(\"stroke-dasharray\", (d) => d.strokedash)     \n        .attr(\"class\", \"link\")\n        .attr(\"d\", function (d) {\n            return d3.line<Coord>()\n                .x((d) => xScale(d.x) || 0)\n                .y((d) => yScale(d.y) || 0)\n                (d.data)\n        })\n\n}\n\nfunction draw_nodes(node_container: plot, nodes: ClusterNode[], xScale: scaleLinear | scaleLog | scaleSymLog, yScale: scaleLinear | scaleLog | scaleSymLog) {\n\n    let elem = node_container.selectAll(\".node\")\n        .data(nodes)\n        .enter()\n        .append(\"g\")\n        .attr(\"transform\", function (d) { return \"translate(\" + xScale(d.x) + \",\" + yScale(d.y) + \")\" })\n        .attr(\"class\", \"node\")\n\n    let tooltip = d3.select(\"body\")\n        .append(\"div\")\n        .style(\"opacity\", 0)\n        .attr(\"class\", \"idendro-tooltip\")        \n    .on(\"mouseover\", function(this: HTMLElement, e: MouseEvent, d) {        \n        if (e.target) { \n            d3.select(this).style(\"opacity\", 1) \n        }            \n    })\n    .on(\"mouseleave\", function(this: HTMLElement, e: MouseEvent, d) {\n        if (e.target) { \n            d3.select(this).style(\"opacity\", 0) \n            d3.select(this).style(\"display\", \"none\") \n        }\n    })\n\n    let mouseover = function (this: SVGCircleElement | SVGTextElement, e: MouseEvent, d: ClusterNode) {\n        tooltip.style(\"opacity\", 1)\n        tooltip.style(\"display\", \"initial\")\n        tooltip            \n            .style(\"left\", e.x + \"px\")\n            .style(\"top\", e.y + \"px\")        \n\n        if (typeof(d.hovertext) === 'string') {\n            tooltip.html(d.hovertext)\n        } else {\n            let hovertext: string = \"\"\n            for (const [key, value] of Object.entries(d.hovertext)) {\n                hovertext += \"<strong>\"+ key + \"</strong>: \" + value + \"<br>\"\n            }\n            tooltip.html(hovertext)                        \n        }\n        \n        if (this.nodeName === 'circle') {\n            d3.select(this).attr(\"r\", d.radius * 1.5)\n        }\n    }\n\n    let mousemove = function (this: SVGCircleElement | SVGTextElement, e: MouseEvent, d: ClusterNode) {\n        tooltip            \n            .style(\"left\", e.x + \"px\")\n            .style(\"top\", e.y + \"px\")\n        if (this.nodeName === 'circle') {\n            d3.select(this).attr(\"r\", d.radius * 1.5)\n        }\n    }\n\n\n    let mouseleave = function (this: SVGCircleElement | SVGTextElement, e: MouseEvent, d: ClusterNode) {\n        tooltip\n            .style(\"opacity\", 0)\n        if (this.nodeName === 'circle') {\n            d3.select(this).attr(\"r\", d.radius)\n        }\n    }\n\n    let click = function (this: SVGCircleElement | SVGTextElement, e: MouseEvent, d: ClusterNode) {\n        Streamlit.setComponentValue(d)\n        tooltip.style(\"opacity\", 0) \n        tooltip.style(\"display\", \"none\")         \n    }\n\n    elem.append(\"circle\")\n        .attr(\"fill\", (d) => d.fillcolor)\n        .attr(\"stroke\", (d) => d.edgecolor)        \n        .attr('r', (d) => d.radius)\n        .attr(\"opacity\", (d) => d.opacity)\n        .on(\"mouseover\", mouseover)\n        .on(\"mouseleave\", mouseleave)\n        .on(\"mousemove\", mousemove)\n        .on(\"click\", click)\n\n\n    elem.append(\"text\")        \n        .text((d) => d.label)\n        .attr(\"fill\", (d) => d.labelcolor)\n        .attr(\"font-size\", (d) => d.labelsize)        \n        .attr(\"opacity\", (d) => d.opacity)\n        .on(\"mouseover\", mouseover)\n        .on(\"mouseleave\", mouseleave)\n        .on(\"mousemove\", mousemove)\n        .on(\"click\", click)\n}\n\n/**\n * The component's render function. This will be called immediately after\n * the component is initially loaded, and then again every time the\n * component gets new data from Python.\n */\nfunction onRender(event: Event): void {\n    // Get the RenderData from the event\n    const data = (event as CustomEvent<RenderData>).detail\n\n    //initialize variables as appropriate\n    let dendrogram: Dendrogram = data.args['dendrogram']\n    let scaleType: string = data.args['scale']\n    let show_nodes: Boolean = data.args['show_nodes']    \n    let margin: Margin = data.args['margins']\n    let label_margin_size = 200\n    let dimensions: Dimensions = {\n        height: data.args['height'],\n        width: data.args['width'],\n        margin: margin,\n        innerHeight: 0,\n        innerWidth: 0,\n        orientation: data.args['orientation']\n    }\n\n    let margin_map = { 'top': Orientation.bottom, 'bottom': Orientation.top, 'left': Orientation.right, 'right': Orientation.left }\n    let label_margin: Orientation = margin_map[dimensions.orientation]\n\n    dimensions.margin[label_margin] = label_margin_size\n    dimensions.innerHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom\n    dimensions.innerWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right\n\n    //create the plot container and the axes\n    let plot = create_container(dimensions)\n    let scales = create_axis(plot, dimensions, dendrogram, scaleType)\n\n    let xScale: scaleLinear | scaleLog | scaleSymLog\n    let yScale: scaleLinear | scaleLog | scaleSymLog\n\n    //depending on the orientation, remap X and Y values\n    if (dimensions.orientation === Orientation.top || dimensions.orientation === Orientation.bottom) {\n        xScale = scales[0]\n        yScale = scales[1]\n        dendrogram.links.forEach(link => {\n            link.data = link.x.map(function (x, i) { return { 'x': x, 'y': link.y[i] } })\n        });\n    } else {\n        yScale = scales[0]\n        xScale = scales[1]\n        dendrogram.links.forEach(link => {\n            link.data = link.x.map(function (x, i) { return { 'y': x, 'x': link.y[i] } })\n        });\n        dendrogram.nodes.forEach(node => {\n            let x = node.x\n            node.x = node.y\n            node.y = x\n        });\n    }\n\n    //draw links\n    let link_container = plot.append('g').attr(\"class\", \"link-container\")\n    draw_links(link_container, dendrogram.links, xScale, yScale)\n\n    //draw nodes\n    if (show_nodes) {\n        let node_container = plot.append('g').attr(\"class\", \"node-container\")\n        draw_nodes(node_container, dendrogram.nodes, xScale, yScale)\n    }\n    \n    \n    Streamlit.setFrameHeight()\n}\n\n// Attach our `onRender` handler to Streamlit's render event.\nStreamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender)\n\n// Tell Streamlit we're ready to start receiving data. We won't get our\n// first RENDER_EVENT until we call this function.\nStreamlit.setComponentReady()\n\n// Finally, tell Streamlit to update our initial height. We omit the\n// `height` parameter here to have it default to our scrollHeight.\nStreamlit.setFrameHeight()\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}